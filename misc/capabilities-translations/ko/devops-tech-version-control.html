<html devsite><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    <title>DevOps 테크: 버전 제어</title>
    <meta name="book_path" value="/architecture/devops/_book.yaml"/>
    <meta name="project_path" value="/architecture/devops/_project.yaml"/>
    <meta name="translation_service" value="machine_translation_light_post_edit"/>
  </head>
  <body>

<aside class="note"><strong>참고:</strong><span> <em>버전 제어</em>는 소프트웨어 제공과 조직 성과를 향상하는 기능 집합 중 하나입니다.  이러한 기능은 성과 향상을 이끌어내는 관례와 기능을 독립적이자 학술적으로 심층 연구하는 <a href="https://www.devops-research.com/research.html">DORA State of DevOps 연구 프로그램</a>을 통해 개발되었습니다. 자세한 내용은 <a href="/devops">DevOps 리소스</a>를 참조하세요.</span></aside>
<p>Git, Subversion, Mercurial 같은 버전 제어 시스템은 팀과 조직에서 파일을 구성하고 파일 생성, 액세스 제어, 업데이트, 삭제를 조정하는 논리적 수단을 제공합니다. 버전 제어는 자동화와 밀접한 관련이 있습니다. 실제로 <a href="/architecture/devops/devops-tech-continuous-integration" track-type="article" track-name="internalLink" track-metadata-position="body">자동화 및 지속적 통합</a>은 자동화 자체의 소스 코드는 물론 자동화할 구성과 배포할 데이터를 위해 이러한 파일을 사용합니다.</p>

<p>소프트웨어 제공을 개선하기 위해 팀은 소스 코드, 테스트 및 배포 스크립트, 인프라 및 애플리케이션 구성 정보, 그리고 이들이 의존하는 여러 라이브러리와 패키지에 버전 제어를 사용해야 합니다.
버전 제어 시스템에서 팀은 환경의 현재 및 이전 상태를 쿼리할 수 있어야 합니다. 버전 제어는 재해 복구와 감사 가능성 같은 직접적 이점도 제공합니다.</p>

<p>연구 결과에 따르면 버전 제어의 포괄적 사용에서는 지속적 배포를 예측합니다. 특히 버전 제어는 다음과 같은 중요한 요구사항을 충족하는 데 도움이 됩니다.</p>

<ul>
<li><p><strong>재현성</strong>. 팀은 어떤 환경도 완전히 자동화된 방식으로 프로비저닝할 수 있어야 하며, 동일한 구성에서 재현된 새 환경이 동일하다는 것을 확신할 수 있어야 합니다. 이 목표를 달성하기 위한 전제 조건은 액세스 가능한 공유 시스템에 저장된 환경을 프로비저닝하는 데 필요한 스크립트와 구성 정보가 있어야 한다는 것입니다.</p></li>
<li><p><strong>추적 가능성</strong>. 팀은 어떤 환경이든 선택해 해당 환경을 만드는 데 사용되는 모든 종속 항목의 버전을 빠르고 정확하게 확인할 수 있어야 합니다. 또한 두 가지 환경 버전을 비교하여 무엇이 변경되었는지 확인할 수 있어야 합니다.</p></li>
</ul>

<p>이러한 기능은 팀에게 다음과 같은 몇 가지 중요한 이점을 제공합니다.</p>

<ul>
<li><p><strong>재해 복구</strong>. 환경에 하드웨어 장애나 보안 침해 같은 문제가 생기면 팀은 서비스를 복원하기 위해 결정적 시간 안에 해당 환경을 재현할 수 있어야 합니다.</p></li>
<li><p><strong>감사 가능성</strong>. 배포 프로세스의 무결성을 입증하기 위해 팀은 버전을 포함하여 모든 배포로부터 해당 배포가 시작된 요소까지 경로를 역방향으로 보여 줄 수 있어야 합니다. 이것은 배포 파이프라인과 결합된 포괄적 구성 관리를 통해 가능합니다.</p></li>
<li><p><strong>품질 개선</strong>. 개발, 테스트, 프로덕션 환경이 준비되기를 기다리느라 소프트웨어 제공 프로세스가 오랫동안 지연되는 경우가 많습니다. 버전 제어에서 이런 준비를 자동으로 수행할 수 있으면 팀은 변경의 영향에 대한 피드백을 더 빨리 받아 소프트웨어의 품질을 향상시킬 수 있습니다.</p></li>
<li><p><strong>용량 관리</strong>. 팀이 환경에 더 많은 용량을 추가하려는 경우, 기존 서버를 재현하는 능력이 필수적입니다. 이 기능으로 현대적 클라우드 기반 분산 시스템의 수평적 확장이 가능합니다.</p></li>
<li><p><strong>결함에 대응</strong>. 팀은 시스템의 일부 구성요소에서 치명적 결함이나 취약성을 발견하면 최대한 신속하게 새 소프트웨어 버전을 릴리스해야 합니다. 버전 제어에 모든 아티팩트를 저장하면 팀은 이전에 확인된 작동 상태로 빠르고 안정적으로 롤백할 수 있습니다.</p></li>
</ul>

<p>환경이 더 복잡해지고 유형이 다양해짐에 따라 이러한 목표를 달성하기가 점점 어려워지고 있습니다. 복잡한 엔터프라이즈 시스템에서 완벽한 재현성과 추적 가능성을 달성하기는 불가능합니다(최소한 모든 실제 시스템에는 상태가 있습니다). 따라서 구성 관리의 핵심적 부분은 아키텍처, 환경, 프로세스를 간소화하여 예상되는 이점을 달성하는 데 필요한 투자를 줄이려 노력하는 것입니다.</p>

<h2 id="how_to_implement_version_control" data-text="버전 제어 구현 방법">버전 제어 구현 방법</h2>

<p>버전 제어를 구현할 때는 먼저 달성하려는 목표를 측정 가능한 용어로 정의하는 것이 좋습니다. 이렇게 하면 개발자와 개발자 팀이 이러한 목표에 도달하는 최선의 경로를 확인할 수 있습니다. 이 방식을 사용하면 선택한 경로에 비용이 너무 많이 들거나 시간이 너무 오래 걸리는 경우 방향을 변경하거나 이러한 목표를 재평가할 수 있습니다.</p>

<p>버전 제어 시스템은 시스템에 저장된 파일의 변경사항을 기록합니다. 이 파일은 소스 코드, 애셋 또는 소프트웨어 개발 프로젝트의 일부인 다른 문서일 수 있습니다. 팀은 그룹으로 <em>커밋</em> 또는 <em>수정</em>이라는 변경을 수행합니다. 각 수정은 수정에 관련된 메타데이터(변경 주체 및 시기 등)와 함께 시스템에 저장됩니다. 팀은 이를 통해 커밋, 비교, 병합, 이전 수정으로의 복원이 가능합니다. 또한 프로덕션 환경의 객체를 이전 버전으로 되돌리는 방법을 설정하여 위험을 최소화합니다.</p>

<p>팀은 치명적인 이벤트가 발생할 때에도 프로덕션 서비스를 반복적이고 예측 가능하게(이상적으로는 신속하게) 복원할 수 있어야 하므로 다음 애셋을 공유 버전 제어 저장소에 체크인해야 합니다.</p>

<ul>
<li>모든 애플리케이션 코드 및 종속 항목(예: 라이브러리 및 정적 콘텐츠)</li>
<li>데이터베이스 스키마, 애플리케이션 참조 데이터 등을 만드는 데 사용된 모든 스크립트</li>
<li>이전 단계에서 설명한 모든 환경 생성 도구 및 아티팩트(예: VMware 또는 AMI 이미지 빌드 스크립트 또는 Chef 레시피)</li>
<li>컨테이너를 만들고 구성하는 데 사용되는 모든 파일(예: Docker 파일 및 빌드팩)</li>
<li>지원하는 모든 자동화된 테스트 및 수동 테스트 스크립트</li>
<li>코드 패키징, 배포, 데이터베이스 마이그레이션, 환경 프로비저닝을 지원하는 모든 스크립트</li>
<li>지원하는 프로젝트 아티팩트(예: 요구사항 문서, 배포 절차, 출시 노트)</li>
<li>컨테이너 조정(예: Kubernetes 구성, Mesos 구성, Docker Swarm 구성)</li>
<li>모든 클라우드 구성 파일(예: AWS Cloudformation 템플릿, Cloud Deployment Manager 구성, Microsoft Azure Stack DSC 파일, OpenStack HEAT, Terraform 파일, Pulumi 스택)</li>
<li>여러 서비스를 지원하는 인프라를 만드는 데 필요한 그 밖의 스크립트 또는 구성 정보(예: 엔터프라이즈 서비스 버스, 데이터베이스 관리 시스템, DNS 영역 파일, 방화벽 구성 규칙, 기타 네트워킹 기기)</li>
</ul>

<p>버전 제어는 Git 같은 기존의 파일 기반 버전 제어 시스템 외에도 여러 형태를 취할 수 있습니다. 팀에는 소스 코드와 함께 버전, 라벨, 태그가 지정된 다양한 유형의 객체와 서비스를 위한 여러 저장소가 있을 수 있습니다. 예를 들어 Nexus 또는 Artifactory 같은 아티팩트 저장소에 대용량 가상 머신 이미지, ISO 파일, 컴파일된 바이너리 등을 저장할 수 있습니다. 또는 Cloud Storage나 Amazon S3 같은 blob 저장소에 객체를 넣거나 Docker 레지스트리에 Docker 이미지를 넣을 수 있습니다. 이런 방법은 재현성과 추적 가능성 요구사항을 충족하며, 동일한 이점을 제공합니다.</p>

<p>팀은 이전 프로덕션 환경 상태를 다시 생성하는 것 외에도 사전 프로덕션 및 빌드 프로세스도 다시 생성할 수 있어야 합니다.
따라서 도구와 도구가 의존하는 환경을 포함하여 팀의 빌드 프로세스가 사용하는 모든 것을 버전 제어에 체크인해야 합니다.</p>

<h2 id="common_pitfalls_in_version_control" data-text="버전 제어의 일반적인 함정">버전 제어의 일반적인 함정</h2>

<p>버전 제어 사용 시 가장 일반적인 함정은 <strong>제한된 응용 또는 사용</strong>입니다. 즉, 버전 제어를 소프트웨어 애플리케이션 코드에만 적용하는 것입니다. 버전 제어에 저장된 스크립트, 소스 코드, 구성 정보를 사용하여 배포된 소프트웨어를 포함한 모든 테스트 및 프로덕션 환경을 완전히 자동화된 방식으로 재현할 수 있어야 합니다.</p>

<h2 id="ways_to_improve_version_control" data-text="버전 제어 개선 방법">버전 제어 개선 방법</h2>

<p>여러 가지 방법으로 버전 제어를 개선할 수 있습니다. 몇 가지 권장사항은 다음과 같습니다.</p>

<ul>
<li>버전 제어를 커밋할 때마다 버전 제어의 정보<em>만</em> 사용하여 모든 환경에 배포할 수 있는 패키지의 자동 생성이 트리거되도록 합니다.</li>
<li>버전 제어의 스크립트 및 구성 정보만을 사용하여 필요에 따라 프로덕션 유사 환경을 만들고 이전 방식에 설명된 자동화된 프로세스를 사용하여 패키지를 만들 수 있도록 합니다.</li>
<li>팀이 완전히 자동화된 방식으로 용량을 추가하거나 재해에서 복구할 수 있도록 테스트 및 프로덕션 인프라 스크립트를 작성합니다.</li>
</ul>

<p>버전 제어 시스템을 구현할 때는 제약 조건에 집중하세요. 예를 들어 버전 제어에서 프로덕션까지의 빠른 변경 흐름을 가로막는 가장 큰 요인이 무엇인가요? 빌드가 너무 느린가요? 배포 가능한 패키지를 다시 만들기가 어려운가요? 프로덕션과 유사한 테스트 환경을 조성하기가 어려운가요? 이러한 제약 조건으로 인해 목표 달성이 어려워질 수 있고, 시스템의 <a href="/architecture/devops/devops-tech-architecture" track-type="article" track-name="internalLink" track-metadata-position="body">아키텍처</a>에 해결할 문제가 있을 수 있습니다.</p>

<h2 id="ways_to_measure_version_control" data-text="버전 제어 측정 방법">버전 제어 측정 방법</h2>

<p>팀이 시스템에서 얼마나 효율적으로 버전 제어를 사용하고 있는지 측정하려면 다음 권장사항을 시도해 보세요.</p>

<ul>
<li><p><strong>애플리케이션 코드</strong>. 애플리케이션 코드에 버전 제어를 사용하나요?
버전 제어에 몇 퍼센트의 애플리케이션 코드를 저장하나요? 팀이 버전 제어 시스템에서 애플리케이션 코드를 얼마나 쉽고 빠르게 복구할 수 있나요?</p></li>
<li><p><strong>시스템 구성</strong>. 시스템 구성에 버전 제어를 사용하나요? 버전 제어에 몇 퍼센트의 시스템 구성을 저장하나요? 팀이 버전 제어에서 얼마나 쉽고 빠르게 시스템을 재구성할 수 있나요?</p></li>
<li><p><strong>애플리케이션 구성</strong>. 애플리케이션 구성에 버전 제어를 사용하나요? 버전 제어에 몇 퍼센트의 애플리케이션 구성을 저장하나요? 팀이 버전 제어 시스템에서 얼마나 쉽고 빠르게 애플리케이션을 코드로부터 재구성할 수 있나요?</p></li>
<li><p><strong>빌드 및 구성 자동화를 위한 스크립트.</strong> 버전 제어에서 빌드 및 구성 자동화를 위한 스크립트를 유지하나요? 버전 제어에 몇 퍼센트를 저장하나요? 버전 제어에서 스크립트를 사용하여 얼마나 빠르고 쉽게 시스템을 다시 프로비저닝할 수 있나요?</p></li>
</ul>

<p>이러한 권장사항은 시작에 불과하지만 필수적이므로 이 권장사항부터 시작해서 잘 수행하는 방법을 배우는 것이 좋습니다. 그런 다음 이 문서를 검토하고 소프트웨어 개발 및 제공에 사용하는 추가 아티팩트를 파악한 후 다음과 같은 비슷한 질문을 합니다. 이러한 아티팩트 중 몇 퍼센트가 버전 제어에 있나요? 팀은 버전 제어의 애셋을 사용하여 얼마나 쉽고 빠르게 새 시스템이나 구성을 배포할 수 있나요?</p>

<h2 id="whats_next" data-text="다음 단계">다음 단계</h2>

<ul>
<li>다른 문서 및 리소스 링크는 <a href="/devops" track-type="solution" track-name="internalLink" track-metadata-position="body">DevOps 페이지</a>를 참조하세요.</li>
<li>DevOps <a href="https://www.devops-research.com/research.html">연구 프로그램</a>을 살펴보세요.</li>
<li><a href="https://www.devops-research.com/quickcheck.html">DevOps 빠른 점검</a>을 사용하여 업계와 비교되는 자신의 현재 상태를 파악하세요.</li>
</ul>

</body></html>